<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/docs/note/MySql/basics.html"><meta property="og:site_name" content="Plumliil-Docs"><meta property="og:title" content="基础篇"><meta property="og:description" content="库,表,数据三者关系 什么是库 库是用来存放 n 张表 什么是表 表可以存放数据,由字段,数据类型(字符串 varchar,整数 int bigint,小数 float,日期 Date 等)组成 什么是数据 表中的信息:文本,视频,图片,音频等 数据类型,库,表操作 数据类型 常见数据类型: varchar(n),float,int(n),bigint..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-06-17T06:28:19.000Z"><meta property="article:author" content="Plumliil"><meta property="article:modified_time" content="2024-06-17T06:28:19.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"基础篇","image":[""],"dateModified":"2024-06-17T06:28:19.000Z","author":[{"@type":"Person","name":"Plumliil","url":"https://plumliil.cn"}]}</script><link rel="icon" href="/docs/favicon.ico"><link rel="icon" href="/docs/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/docs/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/docs/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/docs/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/docs/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/docs/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/docs/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>基础篇 | Plumliil-Docs</title><meta name="description" content="库,表,数据三者关系 什么是库 库是用来存放 n 张表 什么是表 表可以存放数据,由字段,数据类型(字符串 varchar,整数 int bigint,小数 float,日期 Date 等)组成 什么是数据 表中的信息:文本,视频,图片,音频等 数据类型,库,表操作 数据类型 常见数据类型: varchar(n),float,int(n),bigint...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/docs/assets/style-0b9bbad1.css" as="style"><link rel="stylesheet" href="/docs/assets/style-0b9bbad1.css">
    <link rel="modulepreload" href="/docs/assets/app-8115de7e.js"><link rel="modulepreload" href="/docs/assets/framework-b3a1bbcf.js"><link rel="modulepreload" href="/docs/assets/basics.html-6462ccd3.js"><link rel="modulepreload" href="/docs/assets/basics.html-dd06868e.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/docs/" class="brand"><img class="logo" src="/docs/logo.png" alt="Plumliil-Docs"><!----><span class="site-name hide-in-pad">Plumliil-Docs</span></a><!--]--><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><!--]--><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!--[--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link" aria-label="首页"><!---->首页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/note" class="nav-link active" aria-label="笔记"><!---->笔记<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="轮子"><span class="title"><!---->轮子</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>前端部署工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/tool/simplifyDeploy" class="nav-link" aria-label="SimplifyDeploy"><!---->SimplifyDeploy<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://blog.plumliil.cn" rel="noopener noreferrer" target="_blank" aria-label="Blog" class="nav-link"><!---->Blog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Plumliil" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Git</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">JavaScript</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">TypeScript</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">React</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Vue</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Less</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Linux</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">MongoDB</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Nodejs</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><!----><span class="title">Mysql</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/docs/note/MySql/" class="nav-link sidebar-link sidebar-page" aria-label="介绍"><!---->介绍<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/note/MySql/basics.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="基础篇"><!---->基础篇<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#库-表-数据三者关系" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="库,表,数据三者关系"><!---->库,表,数据三者关系<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是库" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是库"><!---->什么是库<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是表"><!---->什么是表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是数据"><!---->什么是数据<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#数据类型-库-表操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据类型,库,表操作"><!---->数据类型,库,表操作<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#数据类型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据类型"><!---->数据类型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#创建库" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建库"><!---->创建库<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#删除库" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除库"><!---->删除库<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#创建表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建表"><!---->创建表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#删除表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除表"><!---->删除表<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#数据的增删改查" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据的增删改查"><!---->数据的增删改查<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#增" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="增"><!---->增<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#删" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删"><!---->删<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#改" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="改"><!---->改<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#查" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查"><!---->查<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#总结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="总结"><!---->总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#数据库备份与还原" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据库备份与还原"><!---->数据库备份与还原<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#高级-sql-查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="高级 SQL 查询"><!---->高级 SQL 查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#查询多条数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询多条数据"><!---->查询多条数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#分组查询-group-by-分类字段" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分组查询(group by 分类字段)"><!---->分组查询(group by 分类字段)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#分页查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分页查询"><!---->分页查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#多表查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="多表查询"><!---->多表查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#表设计以及三表查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="表设计以及三表查询"><!---->表设计以及三表查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程与函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储过程与函数"><!---->存储过程与函数<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#聚合函数与常见函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="聚合函数与常见函数"><!---->聚合函数与常见函数<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#视图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="视图"><!---->视图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#创建视图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建视图"><!---->创建视图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#查询某一视图中数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询某一视图中数据"><!---->查询某一视图中数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#删除视图中某一条数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除视图中某一条数据"><!---->删除视图中某一条数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#删除视图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="删除视图"><!---->删除视图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#向视图中插入一条数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="向视图中插入一条数据"><!---->向视图中插入一条数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#修改视图数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改视图数据"><!---->修改视图数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#应用场景" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="应用场景"><!---->应用场景<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#数据库建模-powerdesigner" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据库建模(powerDesigner)"><!---->数据库建模(powerDesigner)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#事务" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="事务"><!---->事务<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是事务" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="什么是事务"><!---->什么是事务<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#事务四大特性" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="事务四大特性"><!---->事务四大特性<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#事务过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="事务过程"><!---->事务过程<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储过程"><!---->存储过程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#语法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="语法"><!---->语法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程之-case" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储过程之 Case"><!---->存储过程之 Case<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程之-while" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储过程之 While"><!---->存储过程之 While<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程之-loop" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="存储过程之 Loop"><!---->存储过程之 Loop<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Java</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Nginx</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><!----><span class="title">Docker</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->基础篇</h1><div class="page-info"><span class="page-author-info" aria-label="Author"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://plumliil.cn" target="_blank" rel="noopener noreferrer">Plumliil</a></span><span property="author" content="Plumliil"></span></span><!----><span class="page-date-info" aria-label="Writing Date"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-17T06:28:19.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 16 min</span><meta property="timeRequired" content="PT16M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#库-表-数据三者关系" class="router-link-active router-link-exact-active toc-link level2">库,表,数据三者关系</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是库" class="router-link-active router-link-exact-active toc-link level3">什么是库</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是表" class="router-link-active router-link-exact-active toc-link level3">什么是表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是数据" class="router-link-active router-link-exact-active toc-link level3">什么是数据</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#数据类型-库-表操作" class="router-link-active router-link-exact-active toc-link level2">数据类型,库,表操作</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#数据类型" class="router-link-active router-link-exact-active toc-link level3">数据类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#创建库" class="router-link-active router-link-exact-active toc-link level3">创建库</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#删除库" class="router-link-active router-link-exact-active toc-link level3">删除库</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#创建表" class="router-link-active router-link-exact-active toc-link level3">创建表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#删除表" class="router-link-active router-link-exact-active toc-link level3">删除表</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#数据的增删改查" class="router-link-active router-link-exact-active toc-link level2">数据的增删改查</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#增" class="router-link-active router-link-exact-active toc-link level3">增</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#删" class="router-link-active router-link-exact-active toc-link level3">删</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#改" class="router-link-active router-link-exact-active toc-link level3">改</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#查" class="router-link-active router-link-exact-active toc-link level3">查</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#总结" class="router-link-active router-link-exact-active toc-link level3">总结</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#数据库备份与还原" class="router-link-active router-link-exact-active toc-link level2">数据库备份与还原</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#高级-sql-查询" class="router-link-active router-link-exact-active toc-link level2">高级 SQL 查询</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#查询多条数据" class="router-link-active router-link-exact-active toc-link level3">查询多条数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#分组查询-group-by-分类字段" class="router-link-active router-link-exact-active toc-link level3">分组查询(group by 分类字段)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#分页查询" class="router-link-active router-link-exact-active toc-link level3">分页查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#多表查询" class="router-link-active router-link-exact-active toc-link level3">多表查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#表设计以及三表查询" class="router-link-active router-link-exact-active toc-link level3">表设计以及三表查询</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程与函数" class="router-link-active router-link-exact-active toc-link level2">存储过程与函数</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#聚合函数与常见函数" class="router-link-active router-link-exact-active toc-link level3">聚合函数与常见函数</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#视图" class="router-link-active router-link-exact-active toc-link level2">视图</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#创建视图" class="router-link-active router-link-exact-active toc-link level3">创建视图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#查询某一视图中数据" class="router-link-active router-link-exact-active toc-link level3">查询某一视图中数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#删除视图中某一条数据" class="router-link-active router-link-exact-active toc-link level3">删除视图中某一条数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#删除视图" class="router-link-active router-link-exact-active toc-link level3">删除视图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#向视图中插入一条数据" class="router-link-active router-link-exact-active toc-link level3">向视图中插入一条数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#修改视图数据" class="router-link-active router-link-exact-active toc-link level3">修改视图数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#应用场景" class="router-link-active router-link-exact-active toc-link level3">应用场景</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#数据库建模-powerdesigner" class="router-link-active router-link-exact-active toc-link level2">数据库建模(powerDesigner)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#事务" class="router-link-active router-link-exact-active toc-link level2">事务</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#什么是事务" class="router-link-active router-link-exact-active toc-link level3">什么是事务</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#事务四大特性" class="router-link-active router-link-exact-active toc-link level3">事务四大特性</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#事务过程" class="router-link-active router-link-exact-active toc-link level3">事务过程</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程" class="router-link-active router-link-exact-active toc-link level2">存储过程</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#语法" class="router-link-active router-link-exact-active toc-link level3">语法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程之-case" class="router-link-active router-link-exact-active toc-link level3">存储过程之 Case</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程之-while" class="router-link-active router-link-exact-active toc-link level3">存储过程之 While</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/note/MySql/basics.html#存储过程之-loop" class="router-link-active router-link-exact-active toc-link level3">存储过程之 Loop</a></li><!----><!--]--></ul></li><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="基础篇" tabindex="-1"><a class="header-anchor" href="#基础篇" aria-hidden="true">#</a> 基础篇</h1><h2 id="库-表-数据三者关系" tabindex="-1"><a class="header-anchor" href="#库-表-数据三者关系" aria-hidden="true">#</a> 库,表,数据三者关系</h2><h3 id="什么是库" tabindex="-1"><a class="header-anchor" href="#什么是库" aria-hidden="true">#</a> 什么是库</h3><p>库是用来存放 n 张表</p><h3 id="什么是表" tabindex="-1"><a class="header-anchor" href="#什么是表" aria-hidden="true">#</a> 什么是表</h3><p>表可以存放数据,由字段,数据类型(字符串 varchar,整数 int bigint,小数 float,日期 Date 等)组成</p><h3 id="什么是数据" tabindex="-1"><a class="header-anchor" href="#什么是数据" aria-hidden="true">#</a> 什么是数据</h3><p>表中的信息:文本,视频,图片,音频等</p><h2 id="数据类型-库-表操作" tabindex="-1"><a class="header-anchor" href="#数据类型-库-表操作" aria-hidden="true">#</a> 数据类型,库,表操作</h2><h3 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型" aria-hidden="true">#</a> 数据类型</h3><ul><li>常见数据类型: varchar(n),float,int(n),bigint(n),date,datetime,text</li><li>默认值: Default <code>默认值</code></li><li>非空: NOT NULL</li><li>自动增长: AUTO_INCREMENT,尽量作用在 int 类型字段上</li><li>主键: PRIMARY KEY 不能够重复,一张表只有一个字段可以作为主键,供操作数据使用</li><li>唯一键:UNIQUE</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">students</span><span style="color:#ABB2BF;"> (</span></span>
<span class="line"><span style="color:#ABB2BF;">	id </span><span style="color:#C678DD;">BIGINT</span><span style="color:#ABB2BF;"> ( </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;"> ) AUTO_INCREMENT </span><span style="color:#C678DD;">PRIMARY KEY</span><span style="color:#ABB2BF;"> COMMENT </span><span style="color:#98C379;">&#39;ID&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	stu_name </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;"> ( </span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;"> ) </span><span style="color:#C678DD;">DEFAULT</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">NULL</span><span style="color:#ABB2BF;"> COMMENT </span><span style="color:#98C379;">&#39;学生姓名&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  gender </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;"> ( </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;"> ) </span><span style="color:#C678DD;">DEFAULT</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;男&#39;</span><span style="color:#ABB2BF;"> COMMENT </span><span style="color:#98C379;">&#39;性别&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建库" tabindex="-1"><a class="header-anchor" href="#创建库" aria-hidden="true">#</a> 创建库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">--  普通创建库</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DATABASE</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">库名</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 指定编码创建库</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DATABASE</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">库名</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">CHARACTER</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> 编码名(utf8等)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除库" tabindex="-1"><a class="header-anchor" href="#删除库" aria-hidden="true">#</a> 删除库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">DROP</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DATABASE</span><span style="color:#ABB2BF;"> 库名</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="创建表" tabindex="-1"><a class="header-anchor" href="#创建表" aria-hidden="true">#</a> 创建表</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- CREATE TABLE 表名 (</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 字段 1 数据类型,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 字段 2 数据类型,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 字段 3 数据类型,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 字段 4 数据类型,</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- ...</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- )</span></span>
<span class="line"><span style="color:#C678DD;">USE</span><span style="color:#ABB2BF;"> 库名; </span><span style="color:#7F848E;font-style:italic;">-- 在哪个数据库下</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">grade</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">	class </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">  score </span><span style="color:#C678DD;">FLOAT</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除表" tabindex="-1"><a class="header-anchor" href="#删除表" aria-hidden="true">#</a> 删除表</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">DROP</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> 表名;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="数据的增删改查" tabindex="-1"><a class="header-anchor" href="#数据的增删改查" aria-hidden="true">#</a> 数据的增删改查</h2><h3 id="增" tabindex="-1"><a class="header-anchor" href="#增" aria-hidden="true">#</a> 增</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- INSERT INTO 表名(字段1,字段2...) VALUES(值1,值2...)</span></span>
<span class="line"><span style="color:#C678DD;">INSERT INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;">,class,score) </span><span style="color:#C678DD;">VALUES</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;张三&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;三年一班&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">89</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">-- 插入一条</span></span>
<span class="line"><span style="color:#C678DD;">INSERT INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;">,class,score) </span><span style="color:#C678DD;">VALUES</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;张三&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;三年一班&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">89</span><span style="color:#ABB2BF;">),(</span><span style="color:#98C379;">&#39;李四&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;三年一班&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">78</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">-- 插入多条</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- INSERT INTO 表名 SET 字段名1=字段值1,字段名2=字段值2...</span></span>
<span class="line"><span style="color:#C678DD;">INSERT INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;李四&#39;</span><span style="color:#ABB2BF;">,class</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;三年一班&#39;</span><span style="color:#ABB2BF;">,score</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">87</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- INSERT INTO 表名 VALUES(值1,值2,值3) 省略字段前提是插入全部值</span></span>
<span class="line"><span style="color:#C678DD;">INSERT INTO</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">VALUES</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;王五&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;三年一班&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">76</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是字段名和字段值需一一对应</p><h3 id="删" tabindex="-1"><a class="header-anchor" href="#删" aria-hidden="true">#</a> 删</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- DELETE FROM 表名 WHERE 条件</span></span>
<span class="line"><span style="color:#C678DD;">DELETE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">WHERE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;李四&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="改" tabindex="-1"><a class="header-anchor" href="#改" aria-hidden="true">#</a> 改</h3><p>算术运算符</p><ul><li>+</li><li>-</li><li>*</li><li>/</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- UPDATE 表名 SET 字段名1=字段值1,字段名2=字段值2... WHERE 条件</span></span>
<span class="line"><span style="color:#C678DD;">UPDATE</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> class</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;三年二班&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">WHERE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;张三&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="表的重命名" tabindex="-1"><a class="header-anchor" href="#表的重命名" aria-hidden="true">#</a> 表的重命名</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- RENAME TABLE 旧表名 TO 新表名;</span></span>
<span class="line"><span style="color:#ABB2BF;">RENAME </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> grade </span><span style="color:#C678DD;">TO</span><span style="color:#ABB2BF;"> student_info;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="更新表字段" tabindex="-1"><a class="header-anchor" href="#更新表字段" aria-hidden="true">#</a> 更新表字段</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 新增表字段</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- ALTER TABLE 表名 ADD 字段名 数据类型</span></span>
<span class="line"><span style="color:#C678DD;">ALTER</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> student_info </span><span style="color:#C678DD;">ADD</span><span style="color:#ABB2BF;"> gender </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 删除表字段</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- ALTER TABLE 表名 DROP 字段名</span></span>
<span class="line"><span style="color:#C678DD;">ALTER</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> student_info </span><span style="color:#C678DD;">DROP</span><span style="color:#ABB2BF;"> gender</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 字段重命名</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- ALTER TABLE 表名 CHANGE 旧字段名 新字段名 新字段名数据类型</span></span>
<span class="line"><span style="color:#C678DD;">ALTER</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> student_info CHANGE </span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> sname </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 修改字段类型 改长短</span></span>
<span class="line"><span style="color:#C678DD;">ALTER</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> student_info CHANGE </span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">25</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 添加日期字段 date 只有年月日 datetime 有年月日时分秒</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- ALTER TABLE 表名 ADD 日期字段名 DATE;</span></span>
<span class="line"><span style="color:#C678DD;">UPDATE</span><span style="color:#ABB2BF;"> student_info </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> birthday</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;2001-01-01&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">WHERE</span><span style="color:#ABB2BF;"> sname</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;李四&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查" tabindex="-1"><a class="header-anchor" href="#查" aria-hidden="true">#</a> 查</h3><h4 id="关系运算符" tabindex="-1"><a class="header-anchor" href="#关系运算符" aria-hidden="true">#</a> 关系运算符</h4><ul><li>=</li><li>&gt;</li><li>&gt;=</li><li>&lt;</li><li>&lt;=</li><li>!= 关系运算符需放在<code>WHERE</code>关键字后</li></ul><h4 id="逻辑运算符" tabindex="-1"><a class="header-anchor" href="#逻辑运算符" aria-hidden="true">#</a> 逻辑运算符</h4><ul><li>AND 与</li><li>OR 或</li><li>NOT 非</li></ul><h4 id="查询数据" tabindex="-1"><a class="header-anchor" href="#查询数据" aria-hidden="true">#</a> 查询数据</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- SELECT 字段1,字段2... from 表名 [where 条件]</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询某张表内全部数据记录</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询某一个字段</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 通过AS为查询到的数据起别名</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> uname </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">WHERE</span><span style="color:#ABB2BF;"> score</span><span style="color:#56B6C2;">&gt;=</span><span style="color:#D19A66;">90</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 多条件查询</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> uname </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`grade`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">WHERE</span><span style="color:#ABB2BF;"> score</span><span style="color:#56B6C2;">&gt;</span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">AND</span><span style="color:#ABB2BF;"> class</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;三年一班&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="排序" tabindex="-1"><a class="header-anchor" href="#排序" aria-hidden="true">#</a> 排序</h5><p>排序时字段可以是数值类型,也可以是 varchar 类型</p><p>如果字段是中文不能排序,如果是英文按照 a-z 排序</p><ul><li>升序 ASC</li><li>降序 DESC</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 升序查成绩</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">ORDER BY</span><span style="color:#ABB2BF;"> grade </span><span style="color:#C678DD;">ASC</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 降序查成绩</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> students </span><span style="color:#C678DD;">ORDER BY</span><span style="color:#ABB2BF;"> grade </span><span style="color:#C678DD;">DESC</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sql-语句分类" tabindex="-1"><a class="header-anchor" href="#sql-语句分类" aria-hidden="true">#</a> SQL 语句分类</h4><ul><li>查询语言 DQL database query language <ul><li>对表的查询 SELECT</li></ul></li><li>定义语言 DDL database defined language <ul><li>创建库 CREATE DATABSE</li><li>创建表 CREATE TABLE</li><li>删除表 DROP TABLE</li></ul></li><li>操作语言 DML database management language <ul><li>插入 INSERT</li><li>更新 UPDATE</li><li>删除 DELETE</li></ul></li></ul><h4 id="查询库" tabindex="-1"><a class="header-anchor" href="#查询库" aria-hidden="true">#</a> 查询库</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- SHOW CREATE DATABASE 库名; 查询指定库信息</span></span>
<span class="line"><span style="color:#ABB2BF;">SHOW </span><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DATABASE</span><span style="color:#ABB2BF;"> db0712;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询当前mmysql下所有库信息</span></span>
<span class="line"><span style="color:#ABB2BF;">SHOW DATABASES;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询当前用户连接的数据库</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DATABASE</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="查询表" tabindex="-1"><a class="header-anchor" href="#查询表" aria-hidden="true">#</a> 查询表</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询当前库下表信息</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- SHOW CREATE TABLE 表名;</span></span>
<span class="line"><span style="color:#ABB2BF;">SHOW </span><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> grade;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询表结构</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- DESC TABLES;</span></span>
<span class="line"><span style="color:#C678DD;">DESC</span><span style="color:#ABB2BF;"> grade;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h3><ul><li>创建库,创建表 : CREATE</li><li>删除库,删除表 : DROP</li><li>修改库,修改表表 : ALTER</li><li>查询库,查询表 : SHOW , SELECT</li><li>添加数据 : INSERT</li><li>修改数据 : UPDATE</li><li>查询数据 : SELECT</li><li>删除数据 : DELETE</li></ul><h2 id="数据库备份与还原" tabindex="-1"><a class="header-anchor" href="#数据库备份与还原" aria-hidden="true">#</a> 数据库备份与还原</h2><h4 id="通过命名备份-还原" tabindex="-1"><a class="header-anchor" href="#通过命名备份-还原" aria-hidden="true">#</a> 通过命名备份 还原</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 备份</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># mysqldump -uroot -p密码 需要备份的数据库&gt;备份后sql脚本名</span></span>
<span class="line"><span style="color:#ABB2BF;">mysqldump </span><span style="color:#D19A66;">-uroot</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">db071</span><span style="color:#ABB2BF;">2&gt;</span><span style="color:#98C379;">c:</span><span style="color:#56B6C2;">\d</span><span style="color:#98C379;">b0712_student_info.sql</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 还原</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 进入环境 -&gt; 创建一个库 -&gt; 还原数据</span></span>
<span class="line"><span style="color:#ABB2BF;">create </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">db0712</span></span>
<span class="line"><span style="color:#ABB2BF;">use </span><span style="color:#98C379;">database</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">db0712</span></span>
<span class="line"><span style="color:#56B6C2;">source</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">c:</span><span style="color:#56B6C2;">\d</span><span style="color:#98C379;">b0712_student_info.sql</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="通过工具" tabindex="-1"><a class="header-anchor" href="#通过工具" aria-hidden="true">#</a> 通过工具</h4><p>以 navicate 为例</p><ul><li>右键库</li><li>选择转储 SQL 文件</li><li>根据需要选择结构和数据</li><li>运行 SQL 文件</li></ul><h2 id="高级-sql-查询" tabindex="-1"><a class="header-anchor" href="#高级-sql-查询" aria-hidden="true">#</a> 高级 SQL 查询</h2><h3 id="查询多条数据" tabindex="-1"><a class="header-anchor" href="#查询多条数据" aria-hidden="true">#</a> 查询多条数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询id为1,3的数据</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`book_info`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> B_ID </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询id不为1,3的数据</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">`book_info`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> B_ID </span><span style="color:#C678DD;">not</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分组查询-group-by-分类字段" tabindex="-1"><a class="header-anchor" href="#分组查询-group-by-分类字段" aria-hidden="true">#</a> 分组查询(group by 分类字段)</h3><p>分组查询中如果字段后加条件使用<code>having</code>关键字,而不是<code>where</code>关键字</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询goods表中商品种类</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> goodCategory </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> goods </span><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> goodCategory</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询goods表中商品是否有种类sports</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> goodCategory </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> goods </span><span style="color:#C678DD;">group by</span><span style="color:#ABB2BF;"> goodCategory </span><span style="color:#C678DD;">having</span><span style="color:#ABB2BF;"> goodCategory</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;sports&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="分页查询" tabindex="-1"><a class="header-anchor" href="#分页查询" aria-hidden="true">#</a> 分页查询</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> goods </span><span style="color:#C678DD;">limit</span><span style="color:#ABB2BF;"> (pageNo-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)*pageSize,pageSize</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询" aria-hidden="true">#</a> 多表查询</h3><ul><li>方式一:<code>select * from 表1,表2,...,表n where 条件</code></li><li>方式二:通过链接关键字 <ul><li>内连接: <code>select * from 表1 inner join 表2 on 条件(多表间有关联的条件)</code></li><li>外连接 <ul><li>左外连接: <code>select * from 表1 left join 表2 on 条件(多表间有关联的条件)</code><ul><li>当条件不满足时以左边表为主</li></ul></li><li>右外连接: <code>select * from 表1 right join 表2 on 条件(多表间有关联的条件)</code><ul><li>当条件不满足时以右边表为主</li></ul></li></ul></li></ul></li></ul><p>加入现在有两张表,部门表和员工表</p><p>部门表</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- amydb.dept definition</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> `</span><span style="color:#61AFEF;">dept</span><span style="color:#ABB2BF;">` (</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">`id`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;"> AUTO_INCREMENT COMMENT </span><span style="color:#98C379;">&#39;编号&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">`deptName`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;"> COMMENT </span><span style="color:#98C379;">&#39;部门名称&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">PRIMARY KEY</span><span style="color:#ABB2BF;"> (</span><span style="color:#98C379;">`id`</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">) ENGINE</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">InnoDB AUTO_INCREMENT</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DEFAULT</span><span style="color:#ABB2BF;"> CHARSET</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">utf8mb4 </span><span style="color:#C678DD;">COLLATE</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">utf8mb4_0900_ai_ci;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>员工表</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- amydb.emp definition</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">TABLE</span><span style="color:#ABB2BF;"> `</span><span style="color:#61AFEF;">emp</span><span style="color:#ABB2BF;">` (</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">`id`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;"> AUTO_INCREMENT COMMENT </span><span style="color:#98C379;">&#39;员工编号&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">`empName`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;"> COMMENT </span><span style="color:#98C379;">&#39;员工名&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">`salary`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">NOT NULL</span><span style="color:#ABB2BF;"> COMMENT </span><span style="color:#98C379;">&#39;薪资&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">`deptID`</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DEFAULT</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">NULL</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">PRIMARY KEY</span><span style="color:#ABB2BF;"> (</span><span style="color:#98C379;">`id`</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">) ENGINE</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">InnoDB AUTO_INCREMENT</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">DEFAULT</span><span style="color:#ABB2BF;"> CHARSET</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">utf8mb4 </span><span style="color:#C678DD;">COLLATE</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">utf8mb4_0900_ai_ci;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="方式一" tabindex="-1"><a class="header-anchor" href="#方式一" aria-hidden="true">#</a> 方式一</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- select * from 表1,表2,...,表n where 条件</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 查询g表内的goodName和temp表内的maxQuantity 且 g.count=temp.maxQuantity</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">g</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">goodName</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">temp</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">maxQuantity</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> goods g,(</span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">min</span><span style="color:#ABB2BF;">(count) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> maxQuantity </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> goods) temp </span><span style="color:#7F848E;font-style:italic;">--</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">g</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">count</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">temp</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">maxQuantity</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.查询部门编号为 1 的部门下所有的员工</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> emp </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> deptId </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>2.查询所有部门中的所有员工</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d,emp e </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.找出开发部中所有员工名以及薪资和部门名</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d ,emp e </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;测试部&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4.找出开发部,测试部中所有员工名以及薪资和部门名</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 方式一</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d ,emp e</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> (</span><span style="color:#98C379;">&#39;开发部&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;测试部&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 方式二</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d ,emp e</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;开发部&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">or</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;测试部&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 方式三 使用union进行合并 合并前提上下两个sql语句查询结果表结构相同</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- union 自动去重</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- union all 不会自动去重</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d ,emp e</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;开发部&#39;</span></span>
<span class="line"><span style="color:#C678DD;">union</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d ,emp e</span></span>
<span class="line"><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;测试部&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="方式二" tabindex="-1"><a class="header-anchor" href="#方式二" aria-hidden="true">#</a> 方式二</h4><h5 id="内连接" tabindex="-1"><a class="header-anchor" href="#内连接" aria-hidden="true">#</a> 内连接</h5><p>1.查询所有部门中所有员工的名字,部门名,薪资</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d</span></span>
<span class="line"><span style="color:#C678DD;">inner join</span><span style="color:#ABB2BF;"> emp e</span></span>
<span class="line"><span style="color:#C678DD;">on</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.找出开发部中所有员工名以及薪资和部门名</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d</span></span>
<span class="line"><span style="color:#C678DD;">inner join</span><span style="color:#ABB2BF;"> emp e</span></span>
<span class="line"><span style="color:#C678DD;">on</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;开发部&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="左外连接" tabindex="-1"><a class="header-anchor" href="#左外连接" aria-hidden="true">#</a> 左外连接</h5><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 若此时没有员工属于销售部 则查到的empName 和 salary为null</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 但是此时左边表中存在d.deptName=&#39;销售部&#39; 所以此时查询到的数据只有部门名称有值 其他字段为bull</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> dept d</span></span>
<span class="line"><span style="color:#C678DD;">left join</span><span style="color:#ABB2BF;"> emp e</span></span>
<span class="line"><span style="color:#C678DD;">on</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;销售部&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="右外连接" tabindex="-1"><a class="header-anchor" href="#右外连接" aria-hidden="true">#</a> 右外连接</h5><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> emp e</span></span>
<span class="line"><span style="color:#C678DD;">right join</span><span style="color:#ABB2BF;"> dept d</span></span>
<span class="line"><span style="color:#C678DD;">on</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;销售部&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="表设计以及三表查询" tabindex="-1"><a class="header-anchor" href="#表设计以及三表查询" aria-hidden="true">#</a> 表设计以及三表查询</h3><h4 id="示例一" tabindex="-1"><a class="header-anchor" href="#示例一" aria-hidden="true">#</a> 示例一</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 问题不确定</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 老师人数不确定</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 打分学生人数不确定</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">question</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	questionId </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) auto_increment </span><span style="color:#C678DD;">primary key</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;问题主键&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	content </span><span style="color:#C678DD;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;问题内容&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">teacher</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	teacherId </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) auto_increment </span><span style="color:#C678DD;">primary key</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;老师主键&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;老师名称&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 中间表</span></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">teacher_question</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	id </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) auto_increment </span><span style="color:#C678DD;">primary key</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;主键&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	teacherId </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;老师主键&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	questionId </span><span style="color:#C678DD;">bigint</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;问题主键&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	score </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;"> comment </span><span style="color:#98C379;">&#39;分数&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>求出 teacherId=4 的老师的平均分</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 得到总分数</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- select sum(score) from teacher_question tq where tq .teacherId =4</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 得到问题数 通过查询提交teacherId=1的questionId=1的人数</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- select count(*) as num  from teacher_question tq2 where tq2.questionId =1 and tq2 .teacherId =1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">floor</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">temp1</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">total</span><span style="color:#ABB2BF;">/</span><span style="color:#D19A66;">temp2</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">num</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> 平均分 </span><span style="color:#C678DD;">from</span></span>
<span class="line"><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">sum</span><span style="color:#ABB2BF;">(score) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> total </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> teacher_question tq </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> tq .teacherId </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">) temp1,</span></span>
<span class="line"><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">count</span><span style="color:#ABB2BF;">(*) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> num  </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> teacher_question tq2 </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">tq2</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">questionId</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> tq2 .teacherId </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">) temp2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="实例二" tabindex="-1"><a class="header-anchor" href="#实例二" aria-hidden="true">#</a> 实例二</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- 购物车</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">--</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 物品表:goods</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- id,goodsName,price</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 1 xxx衣服 100</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 2 xxx鞋子 300</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 客户表:customer</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- id,customerName,phone,address</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 1,zs,13811112222,zz</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 中间表</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- id,goodsId,customerId,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询张三具体买了哪些商品(商品名,价格,客户名,客户手机号)</p><h2 id="存储过程与函数" tabindex="-1"><a class="header-anchor" href="#存储过程与函数" aria-hidden="true">#</a> 存储过程与函数</h2><h3 id="聚合函数与常见函数" tabindex="-1"><a class="header-anchor" href="#聚合函数与常见函数" aria-hidden="true">#</a> 聚合函数与常见函数</h3><h4 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数" aria-hidden="true">#</a> 聚合函数</h4><p>在函数中,函数使用 SELECT 关键字调用 SELECT 函数名(字段) [FROM 表名]</p><ul><li><p>找出最大值:MAX(字段名)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">MAX</span><span style="color:#ABB2BF;">(grade) </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> 最高分 </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>找出最小值:MIN(字段名)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">MIN</span><span style="color:#ABB2BF;">(grade) </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> 最低分 </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>求平均数:AVG(字段名)</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">AVG</span><span style="color:#ABB2BF;">(grade) </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> 平均分 </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>求和:SUM()</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">SUM</span><span style="color:#ABB2BF;">(grade) </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> 平均分 </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>统计数据总数:COUNT() 当某个字段为空时不计入统计数,所以统计时一般使用*来统计所有数据</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">COUNT</span><span style="color:#ABB2BF;">(*) </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> 平均分 </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> studentsS</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">COUNT</span><span style="color:#ABB2BF;">(grade) </span><span style="color:#C678DD;">AS</span><span style="color:#ABB2BF;"> 平均分 </span><span style="color:#C678DD;">FROM</span><span style="color:#ABB2BF;"> studentsS</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="常用函数" tabindex="-1"><a class="header-anchor" href="#常用函数" aria-hidden="true">#</a> 常用函数</h4><h4 id="修改时间函数" tabindex="-1"><a class="header-anchor" href="#修改时间函数" aria-hidden="true">#</a> 修改时间函数</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- DATA_FORMAT(data,format)</span></span>
<span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">date_format</span><span style="color:#ABB2BF;">(birthday,</span><span style="color:#98C379;">&#39;%Y年%m月%d日&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> students</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="时间函数" tabindex="-1"><a class="header-anchor" href="#时间函数" aria-hidden="true">#</a> 时间函数</h5><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> 时间函数()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>获取当前时间:NOW()</li><li>获取当前年月日:CURDATE()</li><li>获取当前时分秒:CURTIME()</li><li>返回日期 date 的年份: YEAR()</li><li>返回日期 date 为一年中的第几周: WEEK()</li><li>返回时间 time 的小时值: HOURE()</li><li>返回时间 time 的分钟值: MINUTE()</li><li>返回 date1 和 date2 之间相隔天数: DATEDIFF(date1,date2)</li><li>计算日期参数 date 加上 n 天后的日期: ADDDATE(date,n))</li></ul><h5 id="数学函数" tabindex="-1"><a class="header-anchor" href="#数学函数" aria-hidden="true">#</a> 数学函数</h5><ul><li>向上取整 CEIL(数值)</li><li>向下取整 FLOOR(数值)</li><li>随机数 RAND() 不接受参数,返回 0-1 小数 <ul><li>随机整数</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> CEIL(</span><span style="color:#56B6C2;">RAND</span><span style="color:#ABB2BF;">()*</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h2 id="视图" tabindex="-1"><a class="header-anchor" href="#视图" aria-hidden="true">#</a> 视图</h2><p>视图是在真实表上面构建的一张虚表,这个虚表由真是表的某些字段构成,操作视图方法和操作表方法相同,但是增删改视图后原表也会发生改变</p><h3 id="创建视图" tabindex="-1"><a class="header-anchor" href="#创建视图" aria-hidden="true">#</a> 创建视图</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- create view 视图名 as 查询语句</span></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">view</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">view_all</span></span>
<span class="line"><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> empId, </span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">empName</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">salary</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">phone</span><span style="color:#ABB2BF;"> ,</span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptName</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> emp e </span><span style="color:#C678DD;">inner join</span><span style="color:#ABB2BF;"> dept d </span><span style="color:#C678DD;">on</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">e</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">deptID</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">d</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">id</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询某一视图中数据" tabindex="-1"><a class="header-anchor" href="#查询某一视图中数据" aria-hidden="true">#</a> 查询某一视图中数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> view_all va </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> empId </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除视图中某一条数据" tabindex="-1"><a class="header-anchor" href="#删除视图中某一条数据" aria-hidden="true">#</a> 删除视图中某一条数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">delete</span><span style="color:#ABB2BF;"> * </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> view_emp  </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="删除视图" tabindex="-1"><a class="header-anchor" href="#删除视图" aria-hidden="true">#</a> 删除视图</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">delete</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> view_emp</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="向视图中插入一条数据" tabindex="-1"><a class="header-anchor" href="#向视图中插入一条数据" aria-hidden="true">#</a> 向视图中插入一条数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#ABB2BF;"> view_emp  </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;tom&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">8500</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">136656</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">2663515313</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#ABB2BF;"> view_emp </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> empName</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;田七&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改视图数据" tabindex="-1"><a class="header-anchor" href="#修改视图数据" aria-hidden="true">#</a> 修改视图数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">update</span><span style="color:#ABB2BF;"> view_emp </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> empName</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;李四四&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h3><ul><li>金融行业</li><li>保险行业</li><li>财务行业</li></ul><h2 id="数据库建模-powerdesigner" tabindex="-1"><a class="header-anchor" href="#数据库建模-powerdesigner" aria-hidden="true">#</a> 数据库建模(powerDesigner)</h2><h2 id="事务" tabindex="-1"><a class="header-anchor" href="#事务" aria-hidden="true">#</a> 事务</h2><h3 id="什么是事务" tabindex="-1"><a class="header-anchor" href="#什么是事务" aria-hidden="true">#</a> 什么是事务</h3><p>多组操作要么全部成功,要么全部失败</p><h3 id="事务四大特性" tabindex="-1"><a class="header-anchor" href="#事务四大特性" aria-hidden="true">#</a> 事务四大特性</h3><ul><li><p>原子性 Automic: 同一个事务中多组操作不能分割,必须为一个整体</p></li><li><p>一致性 Consistent: 事务操作前与实务操作后总量保持一致</p></li><li><p>隔离性 Isolation: 多个事务之间互不干扰,转账为例</p><ul><li><p>脏读: 一个事务可以读取另一个事物未提交的数据,如张三开启事务进行汇款给李四,李四发货后张三进行事务回滚再提交,张三白嫖货物</p></li><li><p>虚读(幻读): 指一个线程中的事务读取到了另外一个线程中提交的 insert 的数据。</p></li><li><p>不可重复读: 在同一个事务中,不同时间进行查询多次读取到的结果不一致(开启事务后进行查询,不管查询多少次需以开启事务前为基础)</p></li><li><p>在 mysql 中事务有四种隔离级别: read uncommitted, read committed(读取提交), repeatable read, Serializable</p><ul><li>查看 mysql 的隔离级别 <ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">-- 5.0+</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">-- 查看当前会话隔离级别</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> @@tx_isolation;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">-- 查看当前系统隔离级别</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> @@</span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;"> tx_isolation;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">-- 8.0+</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">-- 查看当前会话隔离级别</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> @@transaction_isolation;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">-- 查看当前系统隔离级别</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">select</span><span style="color:#ABB2BF;"> @@</span><span style="color:#D19A66;">global</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">transaction_isolation</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>改变隔离级别 <ul><li><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">transaction</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">isolation</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">level</span><span style="color:#ABB2BF;"> 隔离级别;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li><li>不同的隔离级别会引发不同的问题 <ul><li>当 mysql 事务的隔离级别为 read uncommitted 时会引起脏读,解决脏读,改变隔离级别为<code>read committed</code>.脏读:一个事务可以读取另一个事物未提交的数据,</li><li>当 mysql 事务的隔离级别为<code>read committed</code> 时会引起不可重复读:另一个事务进行数据修改并且提交后,该事务读取到的数据是最新数据,和更改前同一事务读取到的结果不一致,解决不可重复读:将隔离级别改为<code>repeatable read</code></li><li>当 mysql 事务的隔离级别为<code>repeatable read</code>时会引起虚读(幻读),解决(幻读),改变隔离级别为<code>Serializable</code></li></ul></li></ul></li></ul></li><li><p>持久性 Durable: 数据一旦进入到库中,表中,就永久存在</p></li></ul><h3 id="事务过程" tabindex="-1"><a class="header-anchor" href="#事务过程" aria-hidden="true">#</a> 事务过程</h3><ul><li>开启事务: <code>start transaction</code></li><li>提交事务: <code>commit</code></li><li>回滚: <code>rollback</code> 回滚只能在开启和提交事务之间进行回滚,不能在提交事务之后进行 回滚</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">start transaction</span></span>
<span class="line"><span style="color:#C678DD;">update</span><span style="color:#ABB2BF;"> accounts </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">money</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">money</span><span style="color:#ABB2BF;"> -</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> bankNo </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">111</span></span>
<span class="line"><span style="color:#C678DD;">update</span><span style="color:#ABB2BF;"> accounts </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">money</span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;">money</span><span style="color:#ABB2BF;"> +</span><span style="color:#D19A66;">200</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> bankNo </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">122</span></span>
<span class="line"><span style="color:#C678DD;">commit</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="存储过程" tabindex="-1"><a class="header-anchor" href="#存储过程" aria-hidden="true">#</a> 存储过程</h2><p>MySQL 存储过程是一组预先编写好的 SQL 语句集合，它们被命名并存储在数据库中，可以在需要的时候调用执行。存储过程通常用于封装一系列常用的 SQL 操作，提高数据库的性能和安全性。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h3><h4 id="创建存储过程" tabindex="-1"><a class="header-anchor" href="#创建存储过程" aria-hidden="true">#</a> 创建存储过程：</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">-- create procedure 存储过程名 (参数名1 参数类型1,参数名2 参数类型2)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- begin</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- 	代码块;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- end</span></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER //</span></span>
<span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">procedure</span><span style="color:#ABB2BF;"> addSalary (</span><span style="color:#C678DD;">money</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">FLOAT</span><span style="color:#ABB2BF;">,idd </span><span style="color:#C678DD;">BIGINT</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">begin</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">update</span><span style="color:#ABB2BF;"> emp </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> salary</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">salary+</span><span style="color:#C678DD;">money</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">idd</span></span>
<span class="line"><span style="color:#C678DD;">end</span><span style="color:#ABB2BF;"> //</span></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="执行存储过程" tabindex="-1"><a class="header-anchor" href="#执行存储过程" aria-hidden="true">#</a> 执行存储过程</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">call</span><span style="color:#ABB2BF;"> addSalary(-</span><span style="color:#D19A66;">1000</span><span style="color:#ABB2BF;">,</span><span style="color:#D19A66;">9</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>MySQL 存储过程的优点包括减少网络流量、提高性能和安全性、封装复杂的业务逻辑等。存储过程还支持参数传递、条件判断、循环和异常处理等高级功能，可以根据具体的需求进行编写和使用。类似于函数的调用</p><h4 id="带返回值的储存过程" tabindex="-1"><a class="header-anchor" href="#带返回值的储存过程" aria-hidden="true">#</a> 带返回值的储存过程</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DELIMITER //</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">PROCEDURE</span><span style="color:#ABB2BF;"> test1(</span><span style="color:#C678DD;">IN</span><span style="color:#ABB2BF;"> i </span><span style="color:#C678DD;">FLOAT</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">IN</span><span style="color:#ABB2BF;"> j </span><span style="color:#C678DD;">FLOAT</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">OUT</span><span style="color:#ABB2BF;"> num </span><span style="color:#C678DD;">FLOAT</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">BEGIN</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> num </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> i + j;</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> //</span></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">-- call `test1`(10,20,@result)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="删除存储过程" tabindex="-1"><a class="header-anchor" href="#删除存储过程" aria-hidden="true">#</a> 删除存储过程</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">drop</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">procedure</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">[if existe]</span><span style="color:#ABB2BF;"> 存储过程名;</span></span>
<span class="line"><span style="color:#C678DD;">drop</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">procedure</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> existe test1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="带-if-语句的存储过程" tabindex="-1"><a class="header-anchor" href="#带-if-语句的存储过程" aria-hidden="true">#</a> 带 if 语句的存储过程</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DELIMITER //</span></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">PROCEDURE</span><span style="color:#ABB2BF;"> myProcedure(</span><span style="color:#C678DD;">IN</span><span style="color:#ABB2BF;"> num </span><span style="color:#C678DD;">INT</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">OUT</span><span style="color:#ABB2BF;"> result </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#C678DD;">BEGIN</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 定义变量</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">message</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 使用IF语句进行条件判断</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">IF</span><span style="color:#ABB2BF;"> num </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">message</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Number greater than 0&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    ELSEIF num </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">message</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Number less than 0&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">ELSE</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">message</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Number equals 0&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">IF</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 将结果赋值给OUT参数</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> result </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">message</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;">//</span></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">@returnValue</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">CALL</span><span style="color:#ABB2BF;"> myProcedure(</span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">@returnValue</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">@returnValue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="存储过程之-case" tabindex="-1"><a class="header-anchor" href="#存储过程之-case" aria-hidden="true">#</a> 存储过程之 Case</h3><p>MySQL 存储过程中可以使用 CASE 语句控制流程和逻辑。CASE 语句用于在满足一定条件时执行相应的操作。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DELIMITER //</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">PROCEDURE</span><span style="color:#ABB2BF;"> my_procedure()</span></span>
<span class="line"><span style="color:#C678DD;">BEGIN</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> var1 </span><span style="color:#C678DD;">INT</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> var2 </span><span style="color:#C678DD;">VARCHAR</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 设置var1的值</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> var1 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 使用CASE语句根据var1的值进行不同的操作</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">CASE</span><span style="color:#ABB2BF;"> var1</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">WHEN</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> var2 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;One&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">WHEN</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> var2 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Two&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">WHEN</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> var2 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Three&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">ELSE</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> var2 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;Other&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">CASE</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 输出结果</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> var2;</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> //</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的示例中，首先使用 CREATE PROCEDURE 语句创建了一个名为 my_procedure 的存储过程。在存储过程中声明了两个变量 var1 和 var2。然后，通过 SET 语句给 var1 赋值为 3。</p><p>接下来使用 CASE 语句根据 var1 的值进行不同的操作。当 var1 为 1 时，将 var2 设为’One’；当 var1 为 2 时，将 var2 设为’Two’；当 var1 为 3 时，将 var2 设为’Three’；否则将 var2 设为’Other’。</p><p>最后，使用 SELECT 语句输出 var2 的值。你可以调用该存储过程来执行，并查看结果。</p><h3 id="存储过程之-while" tabindex="-1"><a class="header-anchor" href="#存储过程之-while" aria-hidden="true">#</a> 存储过程之 While</h3><p>MySQL 存储过程中可以使用 WHILE 循环来实现迭代操作。WHILE 循环用于在满足一定条件时重复执行一段代码块。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DELIMITER //</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">PROCEDURE</span><span style="color:#ABB2BF;"> my_procedure()</span></span>
<span class="line"><span style="color:#C678DD;">BEGIN</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">INT</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> result </span><span style="color:#C678DD;">INT</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 初始化计数器</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> result </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 使用WHILE循环计算1到10的累加和</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">WHILE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> DO</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> result </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> result + </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> + </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">WHILE</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 输出结果</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> result;</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> //</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的示例中，首先使用 CREATE PROCEDURE 语句创建了一个名为 my_procedure 的存储过程。在存储过程中声明了两个变量 counter 和 result，分别用于计数和存储累加和的结果。</p><p>然后，在 WHILE 循环中，当 counter 小于等于 10 时，重复执行循环体内的代码块。循环体内的代码实现了将 counter 的值累加到 result 中，并将 counter 递增 1 的操作。</p><p>最后，使用 SELECT 语句输出最终的累加结果 result。你可以调用该存储过程来执行，并查看输出结果。</p><h3 id="存储过程之-loop" tabindex="-1"><a class="header-anchor" href="#存储过程之-loop" aria-hidden="true">#</a> 存储过程之 Loop</h3><p>在 MySQL 存储过程中，可以使用 LOOP 循环来实现循环执行一段代码块，直到遇到退出条件为止。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">DELIMITER //</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">CREATE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">PROCEDURE</span><span style="color:#ABB2BF;"> my_procedure()</span></span>
<span class="line"><span style="color:#C678DD;">BEGIN</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">INT</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">DECLARE</span><span style="color:#ABB2BF;"> result </span><span style="color:#C678DD;">INT</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 初始化计数器</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> result </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 使用LOOP循环计算1到10的累加和，直到counter等于11时退出循环</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">LOOP</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> result </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> result + </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">SET</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> + </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">IF</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">counter</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">THEN</span></span>
<span class="line"><span style="color:#ABB2BF;">            LEAVE;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">IF</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">LOOP</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">-- 输出结果</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">SELECT</span><span style="color:#ABB2BF;"> result;</span></span>
<span class="line"><span style="color:#C678DD;">END</span><span style="color:#ABB2BF;"> //</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的示例中，首先使用 CREATE PROCEDURE 语句创建一个名为 my_procedure 的存储过程。在存储过程中声明了两个变量 counter 和 result，用于计数和存储累加和的结果。</p><p>然后，在 LOOP 循环中，重复执行循环体内的代码块。循环体内的代码实现将 counter 的值累加到 result 中，并将 counter 递增 1。</p><p>在每次迭代后，使用 IF 语句检查退出条件。当 counter 大于 10 时，使用 LEAVE 语句退出循环。</p><p>最后，使用 SELECT 语句将最终的累加结果 result 输出。你可以调用该存储过程来执行，并查看输出结果。</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Plumliil/edit/main/note/MySql/basics.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: plumliil.li@elitesland.com">plumliil.li</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/docs/note/MySql/" class="nav-link active prev" aria-label="介绍"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->介绍</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Learn Together Progress Together</div><div class="copyright">Copyright © 2024 Plumliil</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/docs/assets/app-8115de7e.js" defer></script>
  </body>
</html>
